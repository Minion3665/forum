(this["webpackJsonpChromeBot-Website"]=this["webpackJsonpChromeBot-Website"]||[]).push([[0],{37:function(t,e,a){t.exports=a(64)},64:function(t,e,a){"use strict";a.r(e);var o=a(4),n=a(5),r=a(7),s=a(6),i=a(8),l=a(0),c=a.n(l),d=a(33),p=a.n(d),u=a(12),h=a(11),m=a(18);var b,f=function(t){var e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t),a=parseInt(e[1],16),o=parseInt(e[2],16),n=parseInt(e[3],16);a/=255,o/=255,n/=255;var r,s,i=Math.max(a,o,n),l=Math.min(a,o,n),c=(i+l)/2;if(i===l)r=s=0;else{var d=i-l;switch(s=c>.5?d/(2-i-l):d/(i+l),i){case a:r=(o-n)/d+(o<n?6:0);break;case o:r=(n-a)/d+2;break;case n:r=(a-o)/d+4}r/=6}var p=new Object;return p.h=r,p.s=s,p.l=c,p},g=a(17),v=a.n(g),y=new(a(36).a),w=v.a.create({baseURL:"https://api.github.com/graphql",headers:{Authorization:"bearer "+y.get("gh-token")}}),k="{\n\trepository(owner:".concat("minion3665",", name:").concat("forum",") {\n\t\tlabels(first:100) {\n\t\t\tedges {\n\t\t\t\tnode {\n\t\t\t\t\tname,\n\t\t\t\t\tdescription,\n\t\t\t\t\tcolor\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}"),E="{\n\trepository(owner:".concat("minion3665",", name:").concat("forum",") {\n\t\tid,\n\t\tissues(last:100) {\n\t\t\tedges {\n\t\t\t\tnode {\n\t\t\t\t\tcomments(last:100) {\n\t\t\t\t\t\tedges {\n\t\t\t\t\t\t\tnode {\n\t\t\t\t\t\t\t\tauthor {\n\t\t\t\t\t\t\t\t\tlogin,\n\t\t\t\t\t\t\t\t\tavatarUrl\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tbodyHTML,\n\t\t\t\t\t\t\t\tcreatedAt,\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tlabels(first:100) {\n\t\t\t\t\t\tedges {\n\t\t\t\t\t\t\tnode {\n\t\t\t\t\t\t\t\tname,\n\t\t\t\t\t\t\t\tcolor\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tauthor {\n\t\t\t\t\t\tlogin,\n\t\t\t\t\t\tavatarUrl\n\t\t\t\t\t},\n\t\t\t\t\ttitle,\n\t\t\t\t\tbodyHTML,\n\t\t\t\t\tcreatedAt,\n\t\t\t\t\tlocked\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}");function O(){y.set("gh-token",y.get("gh-token"),{path:"/",maxAge:6048e5})}function j(){return O(),w.post("",{query:k}).then((function(t){var e=[];return t.data.data.repository.labels.edges.forEach((function(t){e.push(t.node)})),e}))}var C=(b={color:"#ffffff",backgroundColor:"#000000",border:"1px solid",borderColor:"#ffffff",display:"inlineBlock",borderRadius:"0.75vw",padding:"0.25vw"},Object(m.a)(b,"display","inline-block"),Object(m.a)(b,"width","auto"),Object(m.a)(b,"height","auto"),b),B={paddingBottom:"0.5vw",marginTop:"0.5vw",marginBottom:"0.5vw",display:"block",position:"relative",width:"90%",height:"auto",textDecoration:"none",color:"#000000",borderBottom:"1px solid #000000",top:"0",left:"50%",transform:"translate(-50%, 0)"},S={position:"relative",border:"3px solid #000000",borderRadius:"1vw",width:"90%",height:"auto",top:"0",left:"50%",transform:"translate(-50%, 0)",transition:"all 2s"};function _(t){if(!t.name)return null;var e=C,a=t.bgColor;"string"!=typeof a&&(a=e.backgroundColor),e.backgroundColor=a,f(a).l>=.5?(e.color="#000000",e.borderColor="#000000"):(e.color="#ffffff",e.borderColor="#aaaaaa"),console.log(f(a).l);var o=t.name.replace(" ","-");return c.a.createElement(c.a.Fragment,null,c.a.createElement(u.b,{to:"/board/"+encodeURI(o),style:B},c.a.createElement("b",{style:e},"#",o),"\xa0",c.a.createElement("span",null,"- ",t.description)))}var x=function(t){function e(t){var a;return Object(o.a)(this,e),(a=Object(r.a)(this,Object(s.a)(e).call(this,t))).state={boards:null},a}return Object(i.a)(e,t),Object(n.a)(e,[{key:"getBoards",value:function(){var t=this,e=[],a=[];j().then((function(o){console.log(o),o.forEach((function(t){t.name.startsWith("Board:")&&(t.name=t.name.slice(6),console.log(encodeURI(t.name.replace(" ","-"))),console.log(a),t.name&&!a.includes(encodeURI(t.name.replace(" ","-")))&&(e.push(t),a.push(encodeURI(t.name.replace(" ","-")))))})),t.setState({boards:e})})).catch((function(t){window.location.href="https://github.com/login/oauth/authorize?client_id=9e99d8b63b9a74c6c3a4&scope=repo,user"}))}},{key:"componentDidMount",value:function(){this.getBoards()}},{key:"render",value:function(){var t=this.state.boards;return t?c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{style:S},Object.keys(t).map((function(e){var a=t[e];return c.a.createElement(_,{name:a.name,description:a.description,bgColor:"#"+a.color})})))):c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{style:S},c.a.createElement("h2",{style:{textAlign:"center"}},"Getting the latest data...")))}}]),e}(l.Component),I=a(16),A={position:"relative",boxSizing:"borderBox",width:"85%",height:"auto",top:"0",left:"50%",transform:"translate(-50%, 0)",marginBottom:"2vw",backgroundColor:"#bababa",padding:"2vw"},L={resize:"none",width:"100%"};function U(t){return t.charAt(0).toUpperCase()+t.slice(1)}var M=function(t){function e(t){var a;return Object(o.a)(this,e),(a=Object(r.a)(this,Object(s.a)(e).call(this,t))).state={bodyValue:"",type:t.type?t.type:"post",verb:"comment"!=t.type?"to":"on",to:t.to?t.to:"this",width:"comment"!=t.type?"85vw":"75vw",transform:"comment"!=t.type?"translate(-50%, 0)":"translate(-45%, 0)"},a.handleBodyChange=a.handleBodyChange.bind(Object(I.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(I.a)(a)),a}return Object(i.a)(e,t),Object(n.a)(e,[{key:"handleBodyChange",value:function(t){this.setState({bodyValue:t.target.value})}},{key:"handleSubmit",value:function(){this.setState({bodyValue:""}),this.props.onsubmit("A "+this.state.type,this.state.bodyValue),console.log("A "+this.state.type),console.log(this.state.bodyValue)}},{key:"render",value:function(){var t=this;return A.width=this.state.width,A.transform=this.state.transform,c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{style:A},c.a.createElement("form",null,c.a.createElement("span",null,U(this.state.type)," ",this.state.verb," #",this.state.to.toLowerCase()),c.a.createElement("textarea",{value:this.state.bodyValue,onChange:this.handleBodyChange,style:L}),c.a.createElement("button",{type:"button",onClick:function(){t.setState({bodyValue:""})}},"Clear")," ",c.a.createElement("button",{type:"button",onClick:this.handleSubmit},U(this.state.type),"!"))))}}]),e}(l.Component),T={position:"relative",borderLeft:"2vw solid #000000",boxSizing:"borderBox",width:"85%",height:"auto",top:"0",left:"50%",transform:"translate(-50%, 0)",marginBottom:"2vw",backgroundColor:"#bababa",padding:"2vw"},R={fontSize:"3vw",color:"#000000",verticalAlign:"top"},z={fontSize:"2vw",color:"#000000",verticalAlign:"top"},H={fontSize:"2vw",color:"#555555"},V={position:"relative",borderLeft:"2vw solid #000000",boxSizing:"borderBox",width:"75%",height:"auto",top:"0",left:"50%",transform:"translate(-45%, 0)",marginBottom:"2vw",backgroundColor:"#bababa",padding:"2vw"},F={width:"3vw",borderRadius:"3vw",display:"inline-block",marginRight:"1vw",verticalAlign:"baseline"},D={color:"#777777",fontSize:"1.25vw",paddingLeft:"1vw",paddingRight:"1vw",paddingTop:"1vw",display:"inline-block"},P=function(t){function e(t){return Object(o.a)(this,e),Object(r.a)(this,Object(s.a)(e).call(this,t))}return Object(i.a)(e,t),Object(n.a)(e,[{key:"render",value:function(){var t=[];this.props.comments.forEach((function(e){t.unshift({timestamp:e.node.createdAt,author:e.node.author.login,author_pfp:e.node.author.avatarUrl,content:e.node.bodyHTML})}));var e="",a="";return 1!=this.props.comments.length&&(e="s"),1!=this.props.tags.length&&(a="s"),c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{style:T},c.a.createElement("img",{style:F,src:this.props.author_pfp}),c.a.createElement("span",{style:R},this.props.title)," ",c.a.createElement("span",{style:z},"by ",this.props.author," at ",new Date(this.props.timestamp).toLocaleString()),c.a.createElement("br",null),c.a.createElement("span",{style:H,dangerouslySetInnerHTML:{__html:this.props.body}}),c.a.createElement("br",null),c.a.createElement("span",{style:D},this.props.comments.length," comment",e," ","- ",this.props.tags.length," tag",a)),Object.keys(t).map((function(e){var a=t[e];return c.a.createElement(W,{author:a.author,author_pfp:a.author_pfp,body:a.content,timestamp:a.timestamp})})))}}]),e}(l.Component),W=function(t){function e(t){return Object(o.a)(this,e),Object(r.a)(this,Object(s.a)(e).call(this,t))}return Object(i.a)(e,t),Object(n.a)(e,[{key:"render",value:function(){return c.a.createElement("div",{style:V},c.a.createElement("img",{style:F,src:this.props.author_pfp}),c.a.createElement("span",{style:z},this.props.author," at ",new Date(this.props.timestamp).toLocaleString()),c.a.createElement("br",null),c.a.createElement("span",{style:H,dangerouslySetInnerHTML:{__html:this.props.body}}))}}]),e}(l.Component),q=P,G=function(t){function e(t){var a;return Object(o.a)(this,e),(a=Object(r.a)(this,Object(s.a)(e).call(this,t))).state={board:null,status:null,posts:[],repoid:null},a}return Object(i.a)(e,t),Object(n.a)(e,[{key:"getPostsInBoard",value:function(){var t=this;this.state.board!=this.props.match.params.board&&this.setState({status:null,board:this.props.match.params.board}),(O(),w.post("",{query:E})).then((function(e){j().then((function(a){console.log(t.props.match.params.board);var o=[],n=null,r=!0,s=!1,i=void 0;try{for(var l,c=a[Symbol.iterator]();!(r=(l=c.next()).done);r=!0){var d=l.value;if(console.log(encodeURI(d.name.replace(" ","-"))),encodeURI(d.name.replace(" ","-"))=="Board:"+t.props.match.params.board){n=d;break}}}catch(p){s=!0,i=p}finally{try{r||null==c.return||c.return()}finally{if(s)throw i}}console.log(t.props.match.params.board),console.log(n),"all"!=t.props.match.params.board&&"off-topic"!=t.props.match.params.board||(n="special"),console.log(n),null!=n||t.props.match.params.board in["all","off-topic"]?(e.data.data.repository.issues.edges.forEach((function(e){console.log(e),console.log(t.props.match.params.board);var a=[];if(e.node.labels.edges.forEach((function(t){a.push(t.node)})),"all"==t.props.match.params.board)o.unshift({title:e.node.title,content:e.node.bodyHTML,locked:e.node.locked,timestamp:e.node.createdAt,comments:e.node.comments.edges,tags:a,author:e.node.author.login,author_pfp:e.node.author.avatarUrl});else if("off-topic"==t.props.match.params.board){var r=[];a.forEach((function(t){r.push(t.name)})),r.includes("Moderation:OffTopic")&&o.unshift({title:e.node.title,content:e.node.bodyHTML,locked:e.node.locked,timestamp:e.node.createdAt,comments:e.node.comments.edges,tags:a,author:e.node.author.login,author_pfp:e.node.author.avatarUrl})}else e.node.title.startsWith("Board:"+t.props.match.params.board+" ")?o.unshift({title:e.node.title.slice(("Board:"+t.props.match.params.board+" ").length),content:e.node.bodyHTML,locked:e.node.locked,timestamp:e.node.createdAt,comments:e.node.comments.edges,tags:a,author:e.node.author.login,author_pfp:e.node.author.avatarUrl}):n in a&&o.unshift({title:e.node.title,content:e.node.bodyHTML,locked:e.node.locked,timestamp:e.node.createdAt,comments:e.node.comments.edges,tags:a,author:e.node.author.login,author_pfp:e.node.author.avatarUrl})})),t.setState({posts:o,status:!0,repoid:e.data.data.repository.id})):t.setState({status:!1})}))}))}},{key:"componentDidMount",value:function(){this.getPostsInBoard()}},{key:"render",value:function(){var t=this;this.state.board!=this.props.match.params.board&&this.getPostsInBoard();var e=this.props.match.params.board,a=this.state.posts,o=this.state.status;this.getPostsInBoard;return o?c.a.createElement(c.a.Fragment,null,c.a.createElement(M,{type:"post",to:e,onsubmit:function(a,o){!function(t,e,a){O();var o='\n\tmutation {\n\t\tcreateIssue (\n\t\t\tinput:{\n\t\t\t\ttitle: "'+t+'",\n\t\t\t\tbody: "'+e+'",\n\t\t\t\trepositoryId: "'+a+'",\n\t\t\t}\n\t\t){\n\t\t\tclientMutationId\n\t\t}\n\t}';console.log(o),w.post("",{query:o})}("Board:"+e+" "+a,o,t.state.repoid),window.setTimeout(t.getPosts,2e3)}}),Object.keys(a).map((function(t){var e=a[t];return c.a.createElement(q,{author:e.author,author_pfp:e.author_pfp,title:e.title,body:e.content,timestamp:e.timestamp,comments:e.comments,tags:e.tags,locked:e.locked})}))):"Getting data"}}]),e}(l.Component),J=a(23),$=a.n(J);console.log("Welcome to the forum. This is client build B.0.26.");var K=function(t){function e(){return Object(o.a)(this,e),Object(r.a)(this,Object(s.a)(e).apply(this,arguments))}return Object(i.a)(e,t),Object(n.a)(e,[{key:"render",value:function(){return c.a.createElement(u.a,null,c.a.createElement(h.c,null,c.a.createElement(h.a,{exact:!0,path:"/",render:null}),c.a.createElement(h.a,{path:"/board/:board",component:G})),c.a.createElement(h.c,null,c.a.createElement(h.a,{path:"/login/callback",component:N}),c.a.createElement(h.a,{component:x})))}}]),e}(l.Component),N=function(t){function e(){return Object(o.a)(this,e),Object(r.a)(this,Object(s.a)(e).apply(this,arguments))}return Object(i.a)(e,t),Object(n.a)(e,[{key:"render",value:function(){var t=$()(this.props.location.search).code;return v.a.create({baseURL:"https://cors-anywhere.herokuapp.com/https://github.com/login/oauth/access_token"}).post("",{client_id:"9e99d8b63b9a74c6c3a4",client_secret:"65209c048eca0255f770c84de322ba0a9d59055f",code:t}).then((function(t){var e,a=$()("?"+t.data);a.error?window.location.href="https://github.com/login/oauth/authorize?client_id=9e99d8b63b9a74c6c3a4&scope=repo,user":(e=a.access_token,y.set("gh-token",e,{path:"/",maxAge:6048e5}),window.location.href="/")})).catch((function(t){window.location.href="https://github.com/login/oauth/authorize?client_id=9e99d8b63b9a74c6c3a4&scope=repo,user"})),null}}]),e}(l.Component);p.a.render(c.a.createElement(K,null),document.getElementById("root"))}},[[37,1,2]]]);
//# sourceMappingURL=main.0fb8b1d5.chunk.js.map